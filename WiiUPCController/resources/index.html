<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=854 height=480 user-scalable=no" />

    <title>Wii U PC Controller</title>
    <meta name="description" content="Wii U PC Controller Server">
    <meta name="author" content="John Freed">
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>

</head>

<script type="text/javascript">

    var request = new XMLHttpRequest();

    function init() {
        setInterval('update()', 60);
    }

    function update() {
        var gamepadData = window.wiiu.gamepad.update();

        // Send the gamepad data to the server
        request.open("POST", "http://35.2.59.247:1337/Command", true);
        request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        request.send(JSON.stringify(gamepadData));

        // Update the page with the current values
        document.getElementById('rStickY').innerHTML = 'rStickY: ' + gamepadData.rStickY;
        document.getElementById('rStickX').innerHTML = 'rStickX: ' + gamepadData.rStickX;
        document.getElementById('lStickY').innerHTML = 'lStickY: ' + gamepadData.lStickY;
		document.getElementById('lStickX').innerHTML = 'lStickX: ' + gamepadData.lStickX;
        document.getElementById('andleX').innerHTML = 'angleX: ' + gamepadData.angleX;
		document.getElementById('angleY').innerHTML = 'angleY: ' + gamepadData.angleY;
		document.getElementById('angleZ').innerHTML = 'angleY: ' + gamepadData.angleZ;
        document.getElementById('tpY').innerHTML = 'tpY: ' + gamepadData.tpY;
		document.getElementById('tpX').innerHTML = 'tpX: ' + gamepadData.tpX;
        document.getElementById('isEnabled').innerHTML = 'isEnabled: ' + gamepadData.isEnabled;
        document.getElementById('tpTouch').innerHTML = 'tpTouch: ' + gamepadData.tpTouch;
        document.getElementById('hold').innerHTML = 'hold: ' + gamepadData.hold;
    }
</script>

<body onload="init()">
    <p>Hello World</p>
    </br>
    <p id='isEnabled'></p>
    <p id='hold'></p>
    <p id='lStickX'></p>
    <p id='lStickY'></p>
    <p id='rStickX'></p>
    <p id='rStickY'></p>
    <p id='andleX'></p>
    <p id='angleY'></p>
    <p id='angleZ'></p>
    <p id='tpX'></p>
    <p id='tpY'></p>
    <p id='tpTouch'></p>
</body>

</html>
